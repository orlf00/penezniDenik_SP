<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="bootstrap.css">
    <title>Penƒõ≈æn√≠ den√≠k</title>
</head>
<body class="d-flex flex-column min-vh-100">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand ms-3" href="#">Penƒõ≈æn√≠ den√≠k</a>
        <a class="navbar-brand ms-auto me-3 web-only" href="#">CZK/EUR = <span id="kurzEuroNavbar"></span><br> CZK/USD = <span id="kurzUsdNavbar"></span></a>
    </nav>

    <div class="modal fade" id="formularModal" tabindex="-1" aria-labelledby="formularLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
        <div class="modal-header">
            <h1 class="modal-title fs-5" id="formularLabel">Nov√Ω z√°znam</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <form id="formular">
        <div class="modal-body">
            <fieldset>
                <legend>Z√°kladn√≠ informace</legend>
                <input type="hidden" id="editId" value="">
                <label for="datum" class="form-label">Datum:</label>
                <input type="date" name="datum" id="datum">
                <div>
                <label for="cas" class="form-label mt-3">ƒåas:</label>
                <input type="time" name="cas" id="cas"><br />
                </div>
                <hr>

                <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="typOperace" id="prijem" value="prijem" checked>
                <label class="form-check-label" for="prijem">P≈ô√≠jem</label>
                </div>
                <div class="form-check form-check-inline ms-3">
                <input class="form-check-input" type="radio" name="typOperace" id="vydaj" value="vydaj">
                <label class="form-check-label" for="vydaj">V√Ωdaj</label>
                </div>
                <div>
                <label for="castka" class="form-label mt-3">ƒå√°stka:</label>
                <input type="number" name="castka" id="castka" step="0.001" min="1" inputmode="decimal">
                
                <label for="mena" class="form-label mt-3 ms-3">Mƒõna:</label>
                <select name="mena" id="mena">
                    <option value="czk">CZK</option>
                    <option value="eur">EUR</option>
                    <option value="usd">USD</option>
                </select>
                </div>
                <div>
                <label for="typ" class="form-label mt-3">Typ p≈ôevodu:</label>
                <select name="typ" id="typPrevodu">
                    <option value="hotovostni">Hotovostn√≠</option>
                    <option value="bezhotovostni">Bezhotovostn√≠</option>
                </select><br />
                </div>
                <hr>

                <label for="popis" class="form-label mt-3">Popis:</label>
                <textarea name="popis" id="popis" class="form-control" rows="4"></textarea><br />
                </fieldset>
                <hr>

                <fieldset>
                <legend>Faktura</legend>
                <div>
                <label for="idFaktury" class="form-label mt-3">ID faktury:</label>
                <input type="text" name="idFaktury" id="idFaktury">
                <div>
                <input type="checkbox" name="danova" id="danova" class="mt-3">
                <label for="danova">Ovliv≈àuj√≠c√≠ z√°klad danƒõ</label>
                </div>
                </div>
                </fieldset>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Zru≈°it</button>
            <button type="submit" class="btn btn-primary">P≈ôidat z√°znam</button>
        </div>
        </form>
        </div>
        </div>
    </div>

    <div class="container mx-auto mt-5">
    <button type="button" class="btn btn-primary web-only" data-bs-toggle="modal" data-bs-target="#formularModal" id="novyZaznam">
    Nov√Ω z√°znam
    </button>
    <p class="print-only">V≈°echny transakce jsou v uvedeny v Kƒç.</p>
    <table class="table table-striped table-bordered mx-auto mt-3">
    <colgroup>
        <col style="width: 10%"> 
        <col style="width: 8%">  
        <col style="width: 12%"> 
        <col style="width: 15%">  
        <col style="width: 40%">  
        <col style="width: 15%">  
    </colgroup>
        <thead>
            <tr>
                <th scope="col" id="datumHeader">Datum</th>
                <th scope="col" class="web-only" id="casHeader">ƒåas</th>
                <th scope="col" id="fakturaHeader" class="mobile-hide">ID faktury</th>
                <th scope="col" class="web-only" id="castkaHeader">ƒå√°stka</th>
                <th scope="col" id="typHeader" class="mobile-hide">Typ p≈ôevodu</th>
                <th scope="col" id="popisHeader">Popis</th>
                <th scope="col" class="web-only" id="akceHeader">Akce</th>
                <th scope="col" class="print-only" id="danovyPrijemHeader">P≈ô√≠jmy<br>-<br>da≈àov√©</th>
                <th scope="col" class="print-only" id="nedanovyPrijemHeader">P≈ô√≠jmy<br>-<br>neda≈àov√©</th>
                <th scope="col" class="print-only" id="danovyVydajHeader">V√Ωdaje<br>-<br>da≈àov√©</th>
                <th scope="col" class="print-only" id="nedanovyVydajHeader">V√Ωdaje<br>-<br>neda≈àov√©</th>
            </tr>
        </thead>
        <tbody id="teloTabulky">

        </tbody>
    </table>
    <div class="d-flex justify-content-between align-items-center">
        <button class="btn btn-sm btn-secondary" id="prev">‚Üê P≈ôedchoz√≠</button>
        <span id="pageInfo"></span>
        <button class="btn btn-sm btn-secondary" id="next">Dal≈°√≠ ‚Üí</button>
    </div>
    </div>
<div class="container mx-auto mt-auto gap-10">
        <table class="table table-striped table-bordered mx-auto mb-3">
            <colgroup>
            <col style="width: 1%"> 
            <col style="width: 1%">  
            <col style="width: 1%"> 
            <col style="width: 1%">
            <col style="width: 1%"> 
            <col style="width: 1%"> 
            </colgroup>
            <thead>
                <tr>
                    <th scope="col" id="danovyPrijemSouhrnHeader">Da≈àov√© p≈ô√≠jmy celkem</th>
                    <th scope="col" id="nedanovyPrijemSouhrnHeader" class="mobile-hide">Neda≈àov√© p≈ô√≠jmy celkem</th>
                    <th scope="col" id="danovyVydajeSouhrnHeader">Da≈àov√© v√Ωdaje celkem</th>
                    <th scope="col" id="nedanovyVydajeSouhrnHeader" class="mobile-hide">Neda≈àov√© v√Ωdaje celkem</th>
                    <th scope="col" id="zakladDaneHeader">Z√°klad danƒõ</th>
                    <th scope="col" id="konecnaDanHeader">Vypoƒçten√° da≈à (<input type="text" maxlength="2" style="width: 4ch;" id="danovaSazba"> %)</th>
                </tr>
            </thead>
            <tbody id="teloSouhrnu">
                <tr>
                    <td><span id="danovePrijmyCelkemSpan">s</span></td>
                    <td class="mobile-hide"><span id="nedanovePrijmyCelkemSpan">s</span></td>
                    <td><span id="danoveVydajeCelkemSpan" class="vydaj">s</span></td>
                    <td class="mobile-hide"><span id="nedanoveVydajeCelkemSpan" class="vydaj">s</span></td>
                    <td><span id="zakladDaneSpan">s</span></td>
                    <td><span id="vypoctenaDanSpan">s</span></td>
                </tr>
            </tbody>
        </table>
    <footer class="d-flex justify-content-between align-items-center py-3 px-4 border-top">
    <span class="text-body-secondary">
        ¬© 2025 Filip Orlick√Ω
    </span>

    <span class="text-body-secondary">
        Zdroj dat: <a href="https://www.kurzy.cz/">kurzy.cz</a>
    </span>
    </footer>
</div>
    
</body>
<script src="jquery-3.7.1.min.js"></script>
    <script src="bootstrap.js"></script>
    <script>
        var kurzEur = null;
        var kurzUsd = null;
        let zaznamy = JSON.parse(localStorage.zaznamy || '[]');
        const formatter = new Intl.NumberFormat('cs-CZ');
        const zaznamyNaStranku = 5;
        let aktualniStranka = 0;

        class Zaznam {
            constructor(datum, cas, castka, mena, prevedenaMena, typTransakce, typPrevodu, popis, idFaktury, danova) {
                this.id = crypto.randomUUID();
                this.datum = datum;
                this.cas = cas;
                this.typTransakce = typTransakce;
                this.castka = castka;
                this.mena = mena;
                this.prevedenaMena = prevedenaMena;
                this.typPrevodu = typPrevodu;
                this.popis = popis;
                this.idFaktury = idFaktury;
                this.danova = danova;
            };

        };

        function zobrazStranku(){
            const tabulka = $('#teloTabulky tr');
            const celkemStranek = Math.ceil(tabulka.length / zaznamyNaStranku);
            tabulka.hide();
            const start = aktualniStranka * zaznamyNaStranku;
            const end = start + zaznamyNaStranku;
            tabulka.slice(start, end).show();
            $('#pageInfo').text(`Str√°nka ${aktualniStranka + 1} z ${celkemStranek}`);
            if (aktualniStranka === 0){
                $('#prev').prop('disabled', true);
            } else {
                $('#prev').prop('disabled', false);
            };
            if (aktualniStranka === celkemStranek - 1){
                $('#next').prop('disabled', true);
            } else {
                $('#next').prop('disabled', false);
            };
            if (aktualniStranka > celkemStranek -1){
                aktualniStranka = celkemStranek -1;
                zobrazStranku();
            };

        };

        function ziskejAktualniCas() {
                const now = new Date();
                const year = now.getFullYear();
                const month = String(now.getMonth() + 1).padStart(2, "0");
                const day = String(now.getDate()).padStart(2, "0");
                const hours = String(now.getHours()).padStart(2, "0");
                const minutes = String(now.getMinutes()).padStart(2, "0");
                $('#datum').val(year + "-" + month + "-" + day);
                $("#cas").val(hours + ":" + minutes);
                };

        function ziskejAktualniKurz(){
            $.getJSON('https://data.kurzy.cz/json/meny/b[6].json', function(data) {
                kurzEur=(data.kurzy.EUR.dev_stred);
                kurzUsd=(data.kurzy.USD.dev_stred);
                $('#kurzEuroNavbar').text(kurzEur);
                $('#kurzUsdNavbar').text(kurzUsd);
                console.log("Aktu√°ln√≠ kurz EUR: " + kurzEur);
                console.log("Aktu√°ln√≠ kurz USD: " + kurzUsd);
            });
        };

        function prevedMenu(castka, mena) {

                switch(mena){
                    case 'czk':
                        return castka;
                    case 'eur':
                        if (Number.isFinite(kurzEur)){
                           return Math.round(castka * kurzEur); 
                        }
                        else {
                            const zadany = prompt(
                                'Nepoda≈ôilo se z√≠skat aktu√°ln√≠ kurz CZK/EUR.\nZadejte ho ruƒçnƒõ:'
                            );

                            if (!zadany) return castka;

                            const kurzRucne = parseFloat(zadany.replace(',', '.'));

                            if (!isNaN(kurzRucne) && kurzRucne > 0) {
                                kurzEur = kurzRucne;
                                return Math.round(castka * kurzEur);
                            } else {
                                alert('Neplatn√Ω kurz.');
                                return;
                            };
                        }
                    case 'usd':
                        if (Number.isFinite(kurzUsd)){
                            return Math.round(castka * kurzUsd);
                        } else {
                            const zadany = prompt(
                                'Nepoda≈ôilo se z√≠skat aktu√°ln√≠ kurz CZK/USD.\nZadejte ho ruƒçnƒõ:'
                            );
                            if (!zadany) return castka;
                            const kurzRucne = parseFloat(zadany.replace(',','.'));
                            
                            if(!isNaN(kurzRucne) && kurzRucne>0){
                                kurzUsd = kurzRucne;
                                return Math.round(castka * kurzUsd);
                            } else {
                                alert('Neplatn√Ω kurz');
                                return;
                            };
                        };
                    default:
                        return castka;
                };
            }; 

        function prevedDatum(datum) {
                const parts = datum.split('-');
                return parts[2] + '.' + parts[1] + '.' + parts[0];
            };
        
        function formatCislo(cislo){
                return formatter.format(cislo);
        };

        function pridejZaznam(novyZaznam){
                const formatovanaPrevedenaMena = formatCislo(novyZaznam.prevedenaMena);
                const znamenko = novyZaznam.typTransakce === 'vydaj' ? '- ' : '';
                const danovaPolozka = novyZaznam.danova ? 'üõÇ' : '';
                const typSpanu = novyZaznam.typTransakce === 'vydaj' ? 'vydaj' : 'prijem';
                const danovyPrijem = (novyZaznam.typTransakce === 'prijem' && novyZaznam.danova) ? formatovanaPrevedenaMena : '';
                const nedanovyPrijem = (novyZaznam.typTransakce === 'prijem' && !novyZaznam.danova) ? formatovanaPrevedenaMena : '';
                const danovyVydaj = (novyZaznam.typTransakce === 'vydaj' && novyZaznam.danova) ? formatovanaPrevedenaMena : '';
                const nedanovyVydaj = (novyZaznam.typTransakce === 'vydaj' && !novyZaznam.danova) ? formatovanaPrevedenaMena : '';
                const formatovanaCastka = formatCislo(novyZaznam.castka);
                const puvodniMena = novyZaznam.mena === 'czk' ? '' : novyZaznam.mena === 'eur' ? `(${formatovanaCastka} EUR)` : novyZaznam.mena === 'usd' ? `(${formatovanaCastka} USD)` : '';
                 

                const $tr = $(`
                <tr>
                    <td><span class="datumSpan"></span></td>
                    <td class="web-only"><span class="casSpan"></span></td>
                    <td class="mobile-hide"><span class="idFakturySpan"></span></td>

                    <td class="web-only">
                    <div class="d-flex align-items-start">
                        <div class="ikona-dan"><span class="danovaPolozkaSpan"></span></div>
                        <div>
                        <div class="radekCastky">
                            <span class="znamenkoSpan"></span><span class="domaciMenaSpan"></span>
                        </div>
                        <div class="text-muted"><span class="znamenkoSpacer"></span><span class="puvodniMenaSpan"></span></div>
                        </div>
                    </div>
                    </td>

                    <td class="mobile-hide"><span class="typPrevoduSpan"></span></td>
                    <td><span class="popisSpan"></span></td>

                    <td class="web-only">
                    <button type="button" class="btn btn-sm btn-warning uprava" data-bs-toggle="modal" data-bs-target="#formularModal">Upravit</button>
                    <button type="button" class="btn btn-sm btn-danger smazani" >Smazat</button>
                    </td>

                    <td class="print-only"><span class="danovyPrijemSpan"></span></td>
                    <td class="print-only"><span class="nedanovyPrijemSpan"></span></td>
                    <td class="print-only"><span class="danovyVydajSpan"></span></td>
                    <td class="print-only"><span class="nedanovyVydajSpan"></span></td>
                </tr>
                `);

                $tr.find('.datumSpan').text(novyZaznam.datum);
                $tr.find('.casSpan').text(novyZaznam.cas);
                $tr.find('.idFakturySpan').text(novyZaznam.idFaktury || '') ;

                $tr.find('.danovaPolozkaSpan').text(danovaPolozka);
                $tr.find('.znamenkoSpan').text(znamenko);
                $tr.find('.domaciMenaSpan').text(`${formatovanaPrevedenaMena} Kƒç`);
                $tr.find('.puvodniMenaSpan').text(puvodniMena);

                $tr.find('.typPrevoduSpan').text(novyZaznam.typPrevodu);
                $tr.find('.popisSpan').text(novyZaznam.popis);

                $tr.find('.danovyPrijemSpan').text(danovyPrijem);
                $tr.find('.nedanovyPrijemSpan').text(nedanovyPrijem);
                $tr.find('.danovyVydajSpan').text(danovyVydaj);
                $tr.find('.nedanovyVydajSpan').text(nedanovyVydaj);
                $tr.attr('data-id', novyZaznam.id);

                $tr.find('.radekCastky').addClass(typSpanu);

                $('#teloTabulky').prepend($tr);
        };

        function nactiZaznamy(){
            console.log('Naƒç√≠t√°n√≠ z√°znam≈Ø z localStorage');
            $('#teloTabulky').empty();
                if (localStorage.zaznamy){
                    const ulozeneZaznamy = JSON.parse(localStorage.zaznamy);
                    ulozeneZaznamy.forEach(function(zaznam){
                        pridejZaznam(zaznam);
                    });
                };
            };

        function vypocitejSouhrny(){
                let danovePrijmyCelkem = 0;
                let nedanovePrijmyCelkem = 0;
                let danoveNakladyCelkem = 0;
                let nedanoveNakladyCelkem = 0;
                let danovaSazba = Number($('#danovaSazba').val().replace(/\s/g, '').replace(',', '.'));

                zaznamy.forEach(function(zaznam){
                    if (zaznam.typTransakce === 'prijem'){
                        if (zaznam.danova){
                            danovePrijmyCelkem += zaznam.prevedenaMena;
                        } else {
                            nedanovePrijmyCelkem += zaznam.prevedenaMena;
                        };
                    } else if (zaznam.typTransakce === 'vydaj'){
                        if (zaznam.danova){
                            danoveNakladyCelkem += zaznam.prevedenaMena;
                        } else {
                            nedanoveNakladyCelkem += zaznam.prevedenaMena;
                        };
                    };
                });
                const zakladDane = danovePrijmyCelkem - danoveNakladyCelkem;
                if (Number.isFinite(danovaSazba) && danovaSazba >= 0){
                    if (zakladDane <= 0){
                        $('#vypoctenaDanSpan').text('0' + ' Kƒç');
                    } else {
                        const vypoctenaDan = zakladDane * (danovaSazba / 100);
                        $('#vypoctenaDanSpan').text(formatCislo(vypoctenaDan) + ' Kƒç');
                    }};

                if (zakladDane < 0){
                    $('#zakladDaneSpan').addClass('vydaj');
                } else {
                    $('#zakladDaneSpan').removeClass('vydaj');
                };
                $('#danovePrijmyCelkemSpan').text(formatCislo(danovePrijmyCelkem) + ' Kƒç');
                $('#nedanovePrijmyCelkemSpan').text(formatCislo(nedanovePrijmyCelkem) + ' Kƒç');
                $('#danoveVydajeCelkemSpan').text(formatCislo(danoveNakladyCelkem) + ' Kƒç');
                $('#nedanoveVydajeCelkemSpan').text(formatCislo(nedanoveNakladyCelkem) + ' Kƒç');
                $('#zakladDaneSpan').text(formatCislo(zakladDane) + ' Kƒç');
            };
        
        function nactiDanovouSazbu(){
            if (localStorage.danovaSazba){
                $('#danovaSazba').val(localStorage.danovaSazba);
            } else {
                $('#danovaSazba').val('');
            };
        };
        

        $(function() {
        nactiZaznamy();
        zobrazStranku();

        $('#novyZaznam').on('click', function () {
            $('#editId').val('');
            $('#formular')[0].reset();
            $('#formularLabel').text('Nov√Ω z√°znam');
            $('#formular button[type="submit"]').text('P≈ôidat z√°znam');
            ziskejAktualniCas();
        });

        $('#teloTabulky').on('click', '.uprava', function () {
        const id = $(this).closest('tr').data('id');
        const zaznam = zaznamy.find(z => z.id === id);
        if (!zaznam) return;

        $('#editId').val(zaznam.id);
        $('#formularLabel').text('Upravit z√°znam');
        $('#formular button[type="submit"]').text('Ulo≈æit zmƒõny');

        $('#datum').val(zaznam.datum.split('.').reverse().join('-'));
        $('#cas').val(zaznam.cas);
        $('#castka').val(zaznam.castka);
        $('#mena').val(zaznam.mena);
        $('#popis').val(zaznam.popis);
        $('#idFaktury').val(zaznam.idFaktury || '');
        $('#danova').prop('checked', zaznam.danova);

        $(`input[name="typOperace"][value="${zaznam.typTransakce}"]`).prop('checked', true);

        $('#formularModal').modal('show');
    });

        $('#formular').on('submit', function(e){
                e.preventDefault();
                const datum = prevedDatum($('#datum').val());
                const cas = $('#cas').val();
                const rawCastka = $('#castka').val();
                const castka = parseFloat($('#castka').val());
                const mena = $('#mena').val();
                const typTransakce = $('input[name="typOperace"]:checked').val();
                const typPrevoduValue = $('#typPrevodu').val();
                const typPrevodu = $('#typPrevodu option:selected').text();
                const popis = $('#popis').val();
                const idFaktury = $('#idFaktury').val();
                const danova = $('#danova').is(':checked');


                const povoleneZnakyDatum = /^[0-9.\-\/]+$/;
                const povoleneZnakyCas = /^[0-9:]+$/;
                const povolenaStrukturaData = /^(\d{2}\.\d{2}\.\d{4}|\d{4}-\d{2}-\d{2})$/;
                const povolenaStrukturaCasu = /^([0-9]|[01]\d|2[0-3]):[0-5]\d$/;
                const povoleneZnakyCastka = /^[0-9]+([.,][0-9]+)?$/;
                const povoleneTypyTransakci = ['prijem', 'vydaj'];
                const povoleneMeny = ['czk', 'eur', 'usd'];
                const povoleneTypyPrevodu = ['hotovostni', 'bezhotovostni'];

                if (!povoleneZnakyDatum.test(datum) || !povolenaStrukturaData.test(datum)) {
                    alert('Neplatn√Ω form√°t data.');
                    return;
                };
                if (!povoleneZnakyCas.test(cas) || !povolenaStrukturaCasu.test(cas)) {
                    alert('Neplatn√Ω form√°t ƒçasu.');
                    return;
                };
                if (!povoleneZnakyCastka.test(rawCastka)) {
                    alert('Neplatn√° ƒç√°stka.');
                    return;
                };
                if (!povoleneTypyTransakci.includes(typTransakce)) {
                    alert('Neplatn√Ω typ transakce.');
                    return;
                };
                if (!povoleneMeny.includes(mena)) {
                    alert('Neplatn√° mƒõna.');
                    return;
                };
                if (!povoleneTypyPrevodu.includes(typPrevoduValue)) {
                    alert('Neplatn√Ω typ p≈ôevodu.');
                    return;
                };


                const prevedenaMena = prevedMenu(castka, mena);
                if ($('#editId').val()) {
                const index = zaznamy.findIndex(z => z.id === $('#editId').val());
                if (index === -1) return;

                zaznamy[index] = {
                    ...zaznamy[index],
                    datum,
                    cas,
                    castka,
                    mena,
                    prevedenaMena,
                    typTransakce,
                    typPrevodu,
                    popis,
                    idFaktury,
                    danova
                };
                }else {

                
                const novyZaznam = new Zaznam(datum, cas, castka, mena, prevedenaMena, typTransakce, typPrevodu, popis, idFaktury, danova);

                console.log(novyZaznam);
                zaznamy.push(novyZaznam);
                };
                localStorage.zaznamy = JSON.stringify(zaznamy);
                nactiZaznamy();
                vypocitejSouhrny();
                zobrazStranku();

                $('#formular')[0].reset();
                $('#editId').val('');
                $('#formularModal').modal('hide');
            });

        $('#teloTabulky').on('click', '.smazani', function (e) {
                e.preventDefault();
                if (confirm('Opravdu chcete smazat tento z√°znam?')){
                    let id = $(this).closest('tr').attr('data-id');
                    console.log('Maz√°n√≠ z√°znamu s ID: ' + id);
                    $(this).closest('tr').remove();
                    zaznamy = zaznamy.filter(z => z.id !== id);
                    localStorage.zaznamy = JSON.stringify(zaznamy);
                    vypocitejSouhrny();
                    zobrazStranku();
                    
                };
            });
        $('#danovaSazba').on('change', function () {
            const sazbaHodnota = Number($('#danovaSazba').val().replace(/\s/g, '').replace(',', '.'));
            if (!Number.isFinite(sazbaHodnota) || sazbaHodnota < 0 || sazbaHodnota > 99){
                alert('Neplatn√° da≈àov√° sazba. Zadejte pros√≠m ƒç√≠slo od 1 do 99.');
                $('#danovaSazba').val('');
                return;
            };
            vypocitejSouhrny();
            localStorage.danovaSazba = $('#danovaSazba').val();
        });
        $('#prev').on('click', function(){
                aktualniStranka--;
                zobrazStranku();
        });
        $('#next').on('click', function(){
            aktualniStranka++;
            zobrazStranku();
        });

        ziskejAktualniKurz();
        nactiDanovouSazbu();
        vypocitejSouhrny();
        });         
        
    </script>
</html>

<!---
<tr>
                <td><span id="datumSpan">12.06.2024</span></td>
                <td class="web-only"><span id="casSpan">14:35</span></td>
                <td><span id="idFakturySpan">F12345</span></td>
                <td class="web-only">
                <div class="d-flex align-items-start">
                    <div class="ikona-dan"><span id="danovaPolozkaSpan">üõÇ</span></div>
                    <div>
                    <div class="vydaj"><span id="znamenkoSpan">- </span><span id="domaciMenaSpan">1500 Kƒç</span></div>
                    <div class="text-muted"><span id="puvodniMenaSpan">(<span id="puvodniMenaCisloSpan">25</span><span id="puvodniMenaOznaceniSpan">EUR</span>)</span></div>
                    </div>
                </div>
                </td>
                <td><span id="typPrevoduSpan">Bezhotovostn√≠</span></td>
                <td><span id="popisSpan">Prodej zbo≈æ√≠</span></td>
                <td class="web-only">
                    <button type="button" class="btn btn-sm btn-warning">Upravit</button>
                    <button type="button" class="btn btn-sm btn-danger">Smazat</button>
                </td>
                <td class="print-only"><span id="danovyPrijemPoleSpan"></span></td>
                <td class="print-only"><span id="nedanovyPrijemPoleSpan">1500</span></td>
                <td class="print-only"><span id="danovyVydajPoleSpan"></span></td>
                <td class="print-only"><span id="nedanovyVydajPoleSpan"></span></td>
            </tr>
<th scope="col" id="datumHeader">Datum</th>
                <th scope="col" class="web-only" id="casHeader">ƒåas</th>
                <th scope="col" id="fakturaHeader">ID faktury</th>
                <th scope="col" class="web-only" id="castkaHeader">ƒå√°stka</th>
                <th scope="col" id="typHeader">Typ p≈ôevodu</th>
                <th scope="col" id="popisHeader">Popis</th>
                <th scope="col" class="web-only" id="akceHeader">Akce</th>
                <th scope="col" class="print-only" id="danovyPrijemHeader">P≈ô√≠jmy<br>-<br>da≈àov√©</th>
                <th scope="col" class="print-only" id="nedanovyPrijemHeader">P≈ô√≠jmy<br>-<br>neda≈àov√©</th>
                <th scope="col" class="print-only" id="danovyVydajHeader">V√Ωdaje<br>-<br>da≈àov√©</th>
                <th scope="col" class="print-only" id="nedanovyVydajHeader">V√Ωdaje<br>-<br>neda≈àov√©</th>
        --->